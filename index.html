<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Wallet-Only Checkout</title>

  <script type="module" src="https://web.squarecdn.com/v1/square.js"></script>
</head>
<body>
  <h2>Checkout</h2>
  <div id="apple-pay-button"></div>
  <div id="google-pay-button"></div>

  <script type="module">
    const appId = "sq0idp-UHFeGtPq7o_wZwrPngY1cQ";   
    const locationId = "LEADGZ7813668";     
    
  const payments = window.Square.payments(appId, locationId);

  async function initializeWalletButtons() {
    // Create the payment request with required info
    const paymentRequest = payments.paymentRequest({
      countryCode: "US",
      currencyCode: "USD",
      total: {
        amount: "10.00", // amount to charge
        label: "Total",
      },
    });

    // ---- Apple Pay ----
    try {
      const applePay = await payments.applePay(paymentRequest);
      const applePayReady = await payments.canMakePayment({ method: "applePay" });
      if (applePayReady) {
        applePay.mount("#apple-pay-button");
        console.log("âœ… Apple Pay ready");
      } else {
        console.log("ðŸš« Apple Pay not available on this device");
      }
    } catch (err) {
      console.error("Apple Pay unavailable:", err);
    }

    // ---- Google Pay ----
    try {
      const googlePay = await payments.googlePay(paymentRequest);
      const googlePayReady = await payments.canMakePayment({ method: "googlePay" });
      if (googlePayReady) {
        googlePay.mount("#google-pay-button");
        console.log("âœ… Google Pay ready");
      } else {
        console.log("ðŸš« Google Pay not available on this device");
      }
    } catch (err) {
      console.error("Google Pay unavailable:", err);
    }
  }

  initializeWalletButtons();
</script>
</body>
</html>
