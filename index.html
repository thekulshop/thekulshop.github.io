<script type="module" src="https://web.squarecdn.com/v1/square.js"></script>
<script type="module">
  const appId = "sq0idp-UHFeGtPq7o_wZwrPngY1cQ";
  const locationId = "LEADGZ7813668";

  const payments = window.Square.payments(appId, locationId);

  async function initialize() {
    // 1️⃣ Create the paymentRequest object with amount, currency, etc.
    const paymentRequest = payments.paymentRequest({
      countryCode: "US",
      currencyCode: "USD",
      total: {
        amount: "10.00",   // change this to your item total
        label: "Total",
      },
    });

    // 2️⃣ Try to initialize Apple Pay
    try {
      const applePay = await payments.applePay(paymentRequest);
      await applePay.attach("#apple-pay-button");
      console.log("✅ Apple Pay ready");
    } catch (err) {
      console.log("Apple Pay unavailable –", err);
    }

    // 3️⃣ Try to initialize Google Pay
    try {
      const googlePay = await payments.googlePay(paymentRequest);
      await googlePay.attach("#google-pay-button");
      console.log("✅ Google Pay ready");
    } catch (err) {
      console.log("Google Pay unavailable –", err);
    }
  }

  initialize();
</script>
